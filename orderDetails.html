<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no,viewport-fit=cover">
		<meta name="format-detection" content="telephone=no,address=no,email=no">
		<meta name="applicable-device" content="pc,mobile">
		<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
		<meta http-equiv="Cache-Control" content="no-transform">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black">
		<meta name="renderer" content="webkit">
		<meta name="description" content="领先的国际货运智能化数字服务平台，拥有极速订舱、在线报关、航班跟踪、舱单生成四大功能，为国际货运企业提供灵活、专业、高效的一站式国际货运解决方案。">
		<meta name="keywords" content="空运,货运代理,航空货运,空运价格,国际货代,国际空运,订舱,空运货物查询跟踪,订舱报价,空运舱位,空运费查询,跨境物流,走空运找哪里">
		<link rel='icon' href='./img/favicon.ico' type='image/x-icon' />
		<title>17订舱-国际货代-空运价格-在线订舱-航线-一站式国际货运在线服务平台</title>
		<link rel="stylesheet" href="./css/element-ui-min.css">
		<link rel="stylesheet" href="./css/reset.css" />
		<link rel="stylesheet" href="./css/common.css" />
		<script src="./js/vue.js"></script>
		<script src="./js/axios.min.js"></script>
		<script src="./js/element-ui.js"></script>
		<style>
			.orderOptionsList{
				border-bottom: 1px dashed #EFEFEF;
			}
			.orderOptionsList:last-child{
				border-bottom: 0;
			}
		</style>
	</head>
	<body>
		<div id="app" style="font-size: 0;">
			<!-- 头部 -->
			<div class="header">
				<div class="header-img">
					<a href="./index.html">
						<!-- <img class="logo" src="./img/logo.png" /> -->
						<div class="logo"></div>
					</a>
					<div class="logo-title"></div>
				</div>
				<div @click="loginClick" class="header-user">登录</div>
			</div>
			<div class="header-menu">
				<ul class="header-menu-list com-width">
					<li @click="menuClick(0)" :class="{headerActive: menuIndex == 0}" class="header-menu-content">首页</li>
					<li @click="menuClick(1)" :class="{headerActive: menuIndex == 1}" class="header-menu-content">订单跟踪</li>
					<!-- <li @click="menuClick(2)" :class="{headerActive: menuIndex == 2}" class="header-menu-content">行业咨询</li> -->
					<li @click="menuClick(3)" :class="{headerActive: menuIndex == 3}" class="header-menu-content">关于我们</li>
				</ul>
			</div>
			<!-- 订单详情 -->
			<div class="order-details">
				<div class="com-width order-details-content">
					<div class="order-details-title">
						<a href="./orderList.html">订单管理</a>
						<img alt="图片" src="./img/arrow_details.png" />
						<div>订单详情</div>
						<div>订单号：{{detailsArr.orderNo}}</div>
					</div>
					<div v-if="detailsArr.status != '39'" class="order-details-step">
						<div :class="{'order-details-step-active': status > 1 ? true : false, 'order-details-step-check': status == 1 ? true : false,}" class="order-details-step-btn">
							<img v-if="status > 1" alt="图片" src="./img/orderDetails_check.png">下单
						</div>
						<div :class="{'order-details-step-active': status > 3 ? true : false, 'order-details-step-check': status == 3 ? true : false,}" class="order-details-step-btn">
							<img v-if="status > 3" alt="图片" src="./img/orderDetails_check.png">平台审核
						</div>
						<div :class="{'order-details-step-active': status > 9 ? true : false, 'order-details-step-check': status == 9 ? true : false,}" class="order-details-step-btn">
							<img v-if="status > 9" alt="图片" src="./img/orderDetails_check.png">货物进仓
						</div>
						<div :class="{'order-details-step-active': status > 13 ? true : false, 'order-details-step-check': status == 13 ? true : false,}" class="order-details-step-btn">
							<img v-if="status > 13" alt="图片" src="./img/orderDetails_check.png">进仓数据
						</div>
						<div :class="{'order-details-step-active': status > 17 ? true : false, 'order-details-step-check': status == 17 ? true : false,}" class="order-details-step-btn">
							<img v-if="status > 17" alt="图片" src="./img/orderDetails_check.png">数据确认
						</div>
						<div :class="{'order-details-step-active': status > 21 ? true : false, 'order-details-step-check': status == 21 ? true : false,}" class="order-details-step-btn">
							<img v-if="status > 21" alt="图片" src="./img/orderDetails_check.png">平台操作
						</div>
						<div :class="{'order-details-step-active': (status > 25 || status > 27 || status > 29) ? true : false, 'order-details-step-check': (status == 25 || status == 27 || status == 29) ? true : false,}" class="order-details-step-btn">
							<img v-if="status > 25 || status > 27 || status > 29" alt="图片" src="./img/orderDetails_check.png">卡口放行
						</div>
						<div :class="{'order-details-step-active': (status > 31 || status > 33) ? true : false, 'order-details-step-check': (status == 31 || status == 33) ? true : false,}" class="order-details-step-btn">
							<img v-if="status > 31 || status > 33" alt="图片" src="./img/orderDetails_check.png">安检通过
						</div>
						<div :class="{'order-details-step-active': status > 37 ? true : false, 'order-details-step-check': status == 37 ? true : false,}" class="order-details-step-btn">
							<img v-if="status > 37" alt="图片" src="./img/orderDetails_check.png">货物起运
						</div>
						<div :class="{'order-details-step-active': status > 41 ? true : false, 'order-details-step-check': status == 41 ? true : false,}" class="order-details-step-btn">
							<img v-if="status > 41" alt="图片" src="./img/orderDetails_check.png">货物到达
						</div>
					</div>
					<div v-if="detailsArr.status == '39'" class="order-details-step">
						<div v-if="status >= 1" :class="{'order-details-step-active': detailsArr.status > 1 ? true : false, 'order-details-step-check': detailsArr.status == 1 ? true : false,}" class="order-details-step-btn">
							<img v-if="detailsArr.status > 1" alt="图片" src="./img/orderDetails_check.png">下单
						</div>
						<div v-if="status >= 3" :class="{'order-details-step-active': detailsArr.status > 3 ? true : false, 'order-details-step-check': detailsArr.status == 3 ? true : false,}" class="order-details-step-btn">
							<img v-if="detailsArr.status > 3" alt="图片" src="./img/orderDetails_check.png">平台审核
						</div>
						<div v-if="status >= 9" :class="{'order-details-step-active': detailsArr.status > 9 ? true : false, 'order-details-step-check': detailsArr.status == 9 ? true : false,}" class="order-details-step-btn">
							<img v-if="detailsArr.status > 9" alt="图片" src="./img/orderDetails_check.png">货物进仓
						</div>
						<div v-if="status >= 13" :class="{'order-details-step-active': detailsArr.status > 13 ? true : false, 'order-details-step-check': detailsArr.status == 13 ? true : false,}" class="order-details-step-btn">
							<img v-if="detailsArr.status > 13" alt="图片" src="./img/orderDetails_check.png">进仓数据
						</div>
						<div v-if="status >= 17" :class="{'order-details-step-active': detailsArr.status > 17 ? true : false, 'order-details-step-check': detailsArr.status == 17 ? true : false,}" class="order-details-step-btn">
							<img v-if="detailsArr.status > 17" alt="图片" src="./img/orderDetails_check.png">数据确认
						</div>
						<div v-if="status >= 21" :class="{'order-details-step-active': detailsArr.status > 21 ? true : false, 'order-details-step-check': detailsArr.status == 21 ? true : false,}" class="order-details-step-btn">
							<img v-if="detailsArr.status > 21" alt="图片" src="./img/orderDetails_check.png">平台操作
						</div>
						<div v-if="(status >= 25 || status >= 27 || status >= 29)" :class="{'order-details-step-active': (detailsArr.status > 25 || detailsArr.status > 27 || detailsArr.status > 29) ? true : false, 'order-details-step-check': (detailsArr.status == 25 || detailsArr.status == 27 || detailsArr.status == 29) ? true : false,}" class="order-details-step-btn">
							<img v-if="detailsArr.status > 25 || detailsArr.status > 27 || detailsArr.status > 29" alt="图片" src="./img/orderDetails_check.png">卡口放行
						</div>
						<div v-if="(status >= 31 || status >= 33)" :class="{'order-details-step-active': (detailsArr.status > 31 || detailsArr.status > 33) ? true : false, 'order-details-step-check': (detailsArr.status == 31 || detailsArr.status == 33) ? true : false,}" class="order-details-step-btn">
							<img v-if="detailsArr.status > 31 || detailsArr.status > 33" alt="图片" src="./img/orderDetails_check.png">安检通过
						</div>
						<div v-if="status >= 37" :class="{'order-details-step-active': detailsArr.status > 37 ? true : false, 'order-details-step-check': detailsArr.status == 37 ? true : false,}" class="order-details-step-btn">
							<img v-if="detailsArr.status > 37" alt="图片" src="./img/orderDetails_check.png">货物起运
						</div>
						<div class="order-details-step-btn order-details-step-active">
							<img  alt="图片" src="./img/orderDetails_check.png">订单取消
						</div>
					</div>
					<div class="order-details-table">
						<div class="order-details-list">
							<div v-if="detailsArr.status == '5'" class="details-table-list" style="margin-top: 0;">
								<div class="table-list-title-arr-title">非常抱歉，您预定的仓位暂无，已为您推荐了其他方案，请尽快确认</div>
								<div class="color9995" style="color: #999999;font-size: 14px;padding: 20px 20px 0 20px;">订舱信息</div>
								<div class="list-route-icon">
									<img v-if="detailsArr.logoPath" style="opacity: 0.5;" alt="tupian" :src="detailsArr.logoPath" />
									<div class="list-route-icon-title color9995">{{detailsArr.airCompanyName}}</div>
									<div v-if="detailsArr.dow == '1'" class="list-route-icon-date color9995">{{detailsArr.departureDate}}  周一</div>
									<div v-if="detailsArr.dow == '2'" class="list-route-icon-date color9995">{{detailsArr.departureDate}}  周二</div>
									<div v-if="detailsArr.dow == '3'" class="list-route-icon-date color9995">{{detailsArr.departureDate}}  周三</div>
									<div v-if="detailsArr.dow == '4'" class="list-route-icon-date color9995">{{detailsArr.departureDate}}  周四</div>
									<div v-if="detailsArr.dow == '5'" class="list-route-icon-date color9995">{{detailsArr.departureDate}}  周五</div>
									<div v-if="detailsArr.dow == '6'" class="list-route-icon-date color9995">{{detailsArr.departureDate}}  周六</div>
									<div v-if="detailsArr.dow == '7'" class="list-route-icon-date color9995">{{detailsArr.departureDate}}  周日</div>
								</div>
								<div class="list-arr-route border-btm-da">
									<div class="list-arr-route-yitong">
										<div class="list-arr-route-neirong">
											<div class="color9995">{{detailsArr.pol}}</div>
											<div class="color9995">{{detailsArr.polName}}</div>
										</div>
										<div class="list-arr-route-neirong">
											<div class="color9995">{{detailsArr.pod}}</div>
											<div class="color9995">{{detailsArr.podName}}</div>
										</div>
									</div>
									<div class="list-arr-route-jiaqian color9995">单价：{{detailsArr.bookingPrice}}元/kg</div>
								</div>
								<div class="tuijianhangxian">推荐航线</div>
								<div class="orderOptionsList" v-for="(item,index) in orderOptionsList" :key="index">
									<div class="list-route-icon">
										<img v-if="item.logoPath" alt="tupian" :src="item.logoPath" />
										<div class="list-route-icon-title">{{item.airCompanyName}}</div>
										<div v-if="item.dow == '1'" class="list-route-icon-date color227">{{item.departureDate}}  周一</div>
										<div v-if="item.dow == '2'" class="list-route-icon-date color227">{{item.departureDate}}  周二</div>
										<div v-if="item.dow == '3'" class="list-route-icon-date color227">{{item.departureDate}}  周三</div>
										<div v-if="item.dow == '4'" class="list-route-icon-date color227">{{item.departureDate}}  周四</div>
										<div v-if="item.dow == '5'" class="list-route-icon-date color227">{{item.departureDate}}  周五</div>
										<div v-if="item.dow == '6'" class="list-route-icon-date color227">{{item.departureDate}}  周六</div>
										<div v-if="item.dow == '7'" class="list-route-icon-date color227">{{item.departureDate}}  周日</div>
									</div>
									<div class="list-arr-route" style="position: relative;">
										<div class="list-arr-route-yitong">
											<div class="list-arr-route-neirong">
												<div>{{detailsArr.pol}}</div>
												<div>{{detailsArr.polName}}</div>
											</div>
											<div class="list-arr-route-neirong">
												<div>{{detailsArr.pod}}</div>
												<div>{{detailsArr.podName}}</div>
											</div>
										</div>
										<div v-if="item.fullLeg.split(',').length > 2" style="position: absolute;top: 0;left: 142px;">
											<el-tooltip class="item" effect="dark" :content="item.fullLeg" placement="top-start">
												<a>中转</a>
											</el-tooltip>
										</div>
										<div class="list-tuijian-feiyong" style="margin-top: -55px;">
											<div class="yunfei">空运费：￥{{Number(item.bookingPrice)*Number(detailsArr.bookingCw)}}</div>
											<div class="danjia" style="margin-bottom: 15px;">单价：{{item.bookingPrice}}元/kg</div>
											<button @click="submitBtn('方案',item)" class="box-btn btn-prprimary com-height50" style="font-size: 18px;padding: 0 20px;">选用该方案</button>
										</div>
									</div>
								</div>
							</div>
							<div  v-if="detailsArr.status != '5'" class="details-table-list" style="margin-top: 0;">
								<div class="table-list-title-arr">
									<div class="list-title-arr-left">
										<div>{{detailsArr.polName}}({{detailsArr.pol}})</div>
										<div style="margin: 0 20px;"><img alt="图片" style="width: 16px;height: 16px;" src="./img/icon2.png" /></div>
										<div>{{detailsArr.podName}}({{detailsArr.pod}})</div>
									</div>
									<div v-if="detailsArr.waybillNo" class="list-title-arr-right">运单号：{{detailsArr.waybillNo}}</div>
								</div>
								<div class="list-route-icon">
									<img v-if="detailsArr.logoPath" alt="tupian" :src="detailsArr.logoPath" />
									<div class="list-route-icon-title">{{detailsArr.airCompanyName}}</div>
									<div v-if="detailsArr.dow == '1'" class="list-route-icon-date">{{detailsArr.departureDate}}  周一</div>
									<div v-if="detailsArr.dow == '2'" class="list-route-icon-date">{{detailsArr.departureDate}}  周二</div>
									<div v-if="detailsArr.dow == '3'" class="list-route-icon-date">{{detailsArr.departureDate}}  周三</div>
									<div v-if="detailsArr.dow == '4'" class="list-route-icon-date">{{detailsArr.departureDate}}  周四</div>
									<div v-if="detailsArr.dow == '5'" class="list-route-icon-date">{{detailsArr.departureDate}}  周五</div>
									<div v-if="detailsArr.dow == '6'" class="list-route-icon-date">{{detailsArr.departureDate}}  周六</div>
									<div v-if="detailsArr.dow == '7'" class="list-route-icon-date">{{detailsArr.departureDate}}  周日</div>
								</div>
								<div class="list-arr-route" style="position: relative;">
									<div class="list-arr-route-yitong">
										<div class="list-arr-route-neirong">
											<div>{{detailsArr.pol}}</div>
											<div>{{detailsArr.polName}}</div>
										</div>
										<div class="list-arr-route-neirong">
											<div>{{detailsArr.pod}}</div>
											<div>{{detailsArr.podName}}</div>
										</div>
									</div>
									<div v-if="detailsArr.legCount > 1" style="position: absolute;top: 0;left: 142px;">
										<el-tooltip class="item" effect="dark" :content="detailsArr.fullLeg" placement="top-start">
											<a>中转</a>
										</el-tooltip>
									</div>
									<div class="list-arr-route-jiaqian">单价：{{detailsArr.bookingPrice}}元/kg</div>
								</div>
							</div>
							<div class="details-table-list">
								<div class="details-table-title">货物信息</div>
								<div class="details-table-tab">
									<div class="details-table-tab-title">订舱信息</div>
									<div class="details-table-details" style="display: flex;">
										<div class="details-table-tabs"><span>品名：</span>{{detailsArr.cargoName}}</div>
										<div v-if="detailsArr.cargoType == '1'" class="details-table-tabs"><span>类型：</span>普货</div>
										<div v-if="detailsArr.cargoType == '2'" class="details-table-tabs"><span>类型：</span>化工品</div>
										<div v-if="detailsArr.cargoType == '3'" class="details-table-tabs"><span>类型：</span>危险品</div>
										<div v-if="detailsArr.cargoType == '4'" class="details-table-tabs"><span>类型：</span>防疫物资</div>
										<div class="details-table-tabs"><span>件数：</span>{{detailsArr.bookingPiece}}PCS</div>
										<div class="details-table-tabs"><span>体积：</span>{{detailsArr.bookingCbm}}CBM</div>
									</div>
									<div class="details-table-details" style="display: flex;">
										<div class="details-table-tabs"><span>重量：</span>{{detailsArr.bookingWeight}}KG</div>
										<div class="details-table-tabs"><span>比重：</span>1:{{detailsArr.bookingVwr}}</div>
										<div class="details-table-tabs"><span>计费重：</span>{{detailsArr.bookingCw}}KG</div>
									</div>
								</div>
								<div v-if="detailsArr.status >= '17' && (detailsArr.status != '39')" class="details-table-tab">
									<div class="details-table-tab-title">进仓数据</div>
									<div class="details-table-details" style="display: flex;">
										<div class="details-table-tabs"><span>件数：</span>{{detailsArr.inboundPiece}}PCS</div>
										<div class="details-table-tabs"><span>体积：</span>{{detailsArr.inboundCbm}}CBM</div>
										<div class="details-table-tabs"><span>重量：</span>{{detailsArr.inboundWeight}}KGS</div>
										<div class="details-table-tabs"><span>比重：</span>1:{{detailsArr.inboundVwr}}</div>
										<div class="details-table-tabs"><span>计费重：</span>{{detailsArr.inboundCw}}KGS</div>
										<div v-if="detailsArr.bubblePoint == '10'" class="details-table-tabs"><span>分泡比例：</span>不分泡</div>
										<div v-if="detailsArr.bubblePoint == '1'" class="details-table-tabs"><span>分泡比例：</span>1/9</div>
										<div v-if="detailsArr.bubblePoint == '2'" class="details-table-tabs"><span>分泡比例：</span>2/8</div>
										<div v-if="detailsArr.bubblePoint == '3'" class="details-table-tabs"><span>分泡比例：</span>3/7</div>
										<div v-if="detailsArr.bubblePoint == '4'" class="details-table-tabs"><span>分泡比例：</span>4/6</div>
										<div v-if="detailsArr.bubblePoint == '5'" class="details-table-tabs"><span>分泡比例：</span>5/5</div>
										<div v-if="detailsArr.bubblePoint == '6'" class="details-table-tabs"><span>分泡比例：</span>6/4</div>
										<div v-if="detailsArr.bubblePoint == '7'" class="details-table-tabs"><span>分泡比例：</span>7/3</div>
										<div v-if="detailsArr.bubblePoint == '8'" class="details-table-tabs"><span>分泡比例：</span>8/2</div>
										<div v-if="detailsArr.bubblePoint == '9'" class="details-table-tabs"><span>分泡比例：</span>9/1</div>
									</div>
									<div class="booking" style="margin-top: 20px;">
										<ul class="booking-proportion-ul" style="font-size: 14px;">
											<li class="booking-proportion-item">
												<div>件数PCS</div>
												<div>体积CBM</div>
												<div>重量KGS</div>
												<div>货物尺寸CM</div>
												<div>包装方式</div>
												<div>外箱情况</div>
											</li>
											<li v-for="(item,index) in orderCargoDetailList" class="booking-proportion-item">
												<div>{{item.piece}}</div>
												<div>{{item.cbm}}</div>
												<div>{{item.weight}}</div>
												<div>{{item.cargoSize}}</div>
												<div v-if="item.packing == '1'">纸箱</div>
												<div v-if="item.packing == '2'">夹板箱</div>
												<div v-if="item.packing == '3'">托盘</div>
												<div v-if="item.outerBox == '1'">正常</div>
												<div v-if="item.outerBox == '2'">异常</div>
											</li>
										</ul>
									</div>
									<div v-if="orderAttachmentList.length > 0" class="details-table-details" style="display: flex;">
										<div class="details-table-tabs">
											<span style="flex: 0 0 80px;">进仓图片：</span>
											<div style="width: 660px;display: flex;flex-wrap: wrap;">
											  <div v-for="(item,index) in orderAttachmentList" :key="index" style="margin-right: 10px;margin-bottom: 10px;font-size: 0;position: relative;">
											    <img :src="item.xpath" style="width: 150px;height: 150px;" />
											  </div>
											</div>
										</div>
									</div>
								</div>
							</div>
							<div v-if="(detailsArr.cclType != '1') || detailsArr.isPickUp == '2'" class="details-table-list">
								<div class="details-table-title">服务产品</div>
								<div v-if="detailsArr.isPickUp == '2'" class="details-table-tab">
									<div class="details-table-tab-title">国内提货</div>
									<div class="details-table-details">
										<div class="details-table-tabs" style="word-break: break-all;"><span style="flex: 0 0 70px;">提货地址：</span>{{detailsArr.pickUpAddress}}</div>
										<div class="details-table-tabs" style="word-break: break-all;"><span style="flex: 0 0 85px;">提货联系人：</span>{{detailsArr.pickUpContacts}}</div>
										<div class="details-table-tabs" style="word-break: break-all;"><span style="flex: 0 0 70px;">联系电话：</span>{{detailsArr.pickUpTel}}</div>
									</div>
								</div>
								<div v-if="(detailsArr.cclType != '1')" class="details-table-tab">
									<div class="details-table-tab-title">清关服务</div>
									<div class="details-table-details">
										<div class="details-table-tabs" style="word-break: break-all;"><span style="flex: 0 0 70px;">送货地址：</span>{{detailsArr.deliveryAddress}}</div>
										<div class="details-table-tabs" style="word-break: break-all;"><span style="flex: 0 0 85px;">送货联系人：</span>{{detailsArr.deliveryContacts}}</div>
										<div class="details-table-tabs" style="word-break: break-all;"><span style="flex: 0 0 70px;">联系电话：</span>{{detailsArr.deliveryTel}}</div>
									</div>
								</div>
							</div>
						</div>
						<div class="order-details-table-zhangdan">
							<div v-if="guonerArr.length > 0">
								<div class="details-table-zhangdan-title">账单明细</div>
								<div class="booking-price borderEFEFEF bakFFFFFF">
									<div class="booking-price-item">
										<div class="booking-price-item-name">国内段</div>
										<div v-for="(item,index) in guonerArr" class="booking-price-item-list">
											<div>{{item.expenseName}}</div>
											<div v-if="item.expenseName == '空运费'"><span style="margin-right: 30px;">{{item.price}}*{{item.quantity}}</span><span>￥{{item.totalCny}}</span></div>
											<div v-else><span style="margin-right: 30px;">{{item.price}}*{{item.quantity}}</span><span>￥{{item.totalCny}}</span></div>
										</div>
									</div>
									<div class="booking-price-total">
										<div></div>
										<div>{{guonerJiaqian}}</div>
									</div>
								</div>
								<div style="margin-top: 20px;">
									<button @click="submitBtn('取消')" v-if="statusSubmit.indexOf(detailsArr.status) > -1" class="box-btn btn-prprimary com-height50" style="width: 100%; font-size: 18px;">取消订单</button>
								</div>
							</div>
							<div v-if="guowaiArr.length > 0">
								<div class="details-table-zhangdan-title">账单明细</div>
								<div class="booking-price borderEFEFEF bakFFFFFF">
									<div class="booking-price-item">
										<div class="booking-price-item-name">国外段</div>
										<div v-for="(item,index) in guowaiArr" class="booking-price-item-list">
											<div>{{item.expenseName}}</div>
											<div v-if="item.expenseName == '空运费'"><span style="margin-right: 30px;">{{item.price}}*{{item.quantity}}</span><span>￥{{item.totalCny}}</span></div>
											<div v-else><span style="margin-right: 30px;">{{item.price}}*{{item.quantity}}</span><span>￥{{item.totalCny}}</span></div>
										</div>
									</div>
									<div class="booking-price-total">
										<div></div>
										<div>{{guowaiJiaqian}}</div>
									</div>
								</div>
								<div style="margin-top: 20px;">
									<button @click="submitBtn('取消')" v-if="statusSubmit.indexOf(detailsArr.status) > -1" class="box-btn btn-prprimary com-height50" style="width: 100%; font-size: 18px;">取消订单</button>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			
			<!-- 尾部 -->
			<div class="footer">
				<div class="com-width">
					<div class="footer-content">
						<div class="footer-label">
							<div class="footer-cool" style="margin-bottom: 10px;">
								<span>Copyright © 2020-2021 17dc.com  丨  沪ICP备2021024815号-1  丨  <a target="_blank" href="./yingyezhizhaoImg.html" class="yingyezhizhao">营业执照</a></span>
							</div>
							<!-- <div class="footer-cool" style="margin-bottom: 10px;display: flex;align-items: center;justify-content: center;">
								<img src="./img/footer-wangjing.png" style="width: 16px;height: 16px;margin-right: 10px;" />
								<span>沪公网备XXXXXXXXXXXXX号</span>
							</div> -->
							<div class="footer-ipc">上海傲晔物流科技有限公司  丨  上海市青浦诸光路1588弄虹桥世界中心L3B栋</div>
						</div>
						<div class="footer-img"><img alt="图片" src="./img/qcode.png" /></div>
					</div>
				</div>
			</div>
		</div>
	</body>
	<script src="./service/index.js"></script>
	<script>
		new Vue({
			el: '#app',
			data: {
				loading: false,
				menuIndex: 0,
				orderId: '',
				detailsArr: {},
				statusSubmit: [5,9,3],
				totalArOrgn: {},
				orderOptionsList: [],
				guonerArr: [],
				guonerJiaqian: 0,
				guowaiArr: [],
				guowaiJiaqian: 0,
				preStatus: '',
				status: '',
				orderCargoDetailList: [],
				orderAttachmentList: []
			},
			created() {
				if(!localStorage.getItem('wxOpenId')){
					window.location.href = './login.html'
				}
				this.orderId = getQueryVariable('orderId')
				this.orderSearchDetail()
			},
			methods: {
				submitBtn(type,item) {
					if(type == '方案'){
						console.log(item)
						var data = {
							order: {
								activityCodeDoing: this.detailsArr.activityCodeDoing,
								activityCodeDone: this.detailsArr.activityCodeDone,
								status: this.detailsArr.status,
								id: this.detailsArr.id,
								agentId: item.agentId,
								agentName: item.agentName,
								airCompanyCode: item.airCompanyCode,
								airCompanyName: item.airCompanyName,
								bookingPrice: item.bookingPrice,
								bubblePoint: item.bubblePoint,
								departureDate: item.departureDate,
								dow: item.dow,
								flightNo: item.flightNo,
								fullLeg: item.fullLeg,
								orderId: item.orderId,
								pod: item.pod,
								pol: item.pol,
								sortNo: item.sortNo
							},
							ctrlMap: {
								ctrlFlag: 1
							}
						}
						axios({
							method: 'post',
							url: webIp+serviceApi.orderExecuteOrder,
							data: data,
							headers: {
								'tokenId': localStorage.getItem('tokenId')
							}
						}).then((data) =>{
							var data = data.data
							if(data.code == 200){
								window.location.href = './orderList.html'
							}else{
								this.$message.error(data.message)
							}
						})
					}else if(type == '取消'){
						var data = {
							order: {
								activityCodeDoing: this.detailsArr.activityCodeDoing,
								activityCodeDone: this.detailsArr.activityCodeDone,
								status: this.detailsArr.status,
								id: this.detailsArr.id
							},
							ctrlMap: {
								ctrlFlag: 2
							}
						}
						axios({
							method: 'post',
							url: webIp+serviceApi.orderExecuteOrder,
							data: data,
							headers: {
								'tokenId': localStorage.getItem('tokenId')
							}
						}).then((data) =>{
							var data = data.data
							if(data.code == 200){
								window.location.href = './orderList.html'
							}else{
								this.$message.error(data.message)
							}
						})
					}
				},
				//账单转化
				priceType1(json) {
				  if(json){
				    var arr = JSON.parse(json)
				    var price = ''
				    for(var i = 0; i < arr.length; i++){
				      if(arr[i].currency == '1'){
				        price += '￥'+arr[i].amount+'+'
				      }
				    }
				    price = price.substring(0, price.length - 1)
				    return price
				  }
				},
				priceType2(json) {
				  if(json){
				    var arr = JSON.parse(json)
				    var price = ''
				    for(var i = 0; i < arr.length; i++){
				      if(arr[i].currency == '2'){
				        price += 'HK$'+arr[i].amount+'+'
				      }else if(arr[i].currency == '3'){
				        price += '$'+arr[i].amount+'+'
				      }else if(arr[i].currency == '4'){
				        price += '€'+arr[i].amount+'+'
				      }else if(arr[i].currency == '5'){
				        price += '￡'+arr[i].amount+'+'
				      }
				    }
				    price = price.substring(0, price.length - 1)
				    return price
				  }
				},
				//获取详情
				orderSearchDetail() {
					axios({
						method: 'get',
						url: webIp+serviceApi.orderSearchDetail+'?orderId='+this.orderId,
						headers: {
							'tokenId': localStorage.getItem('tokenId')
						}
					}).then((data) =>{
						var data = data.data
						if(data.code == 200){
							this.detailsArr = data.data
							if(data.data.orderOptionsList){
								this.orderOptionsList = data.data.orderOptionsList
							}
							this.guonerArr = []
							this.guowaiArr = []
							for(var i = 0; i < this.detailsArr.orderPriceList.length; i++){
								if(this.detailsArr.orderPriceList[i].currency == '1'){
									this.guonerArr.push(this.detailsArr.orderPriceList[i])
								}else{
									this.guowaiArr.push(this.detailsArr.orderPriceList[i])
								}
							}
							this.guonerJiaqian = this.priceType1(this.detailsArr.totalArOrgn)
							this.guowaiJiaqian = this.priceType2(this.detailsArr.totalArOrgn)
							if(this.detailsArr.status == 39){
								this.status = this.detailsArr.preStatus
							}else{
								this.status = this.detailsArr.status
							}
							this.orderCargoDetailList = this.detailsArr.orderCargoDetailList
							this.orderAttachmentList = this.detailsArr.orderAttachmentList
						}
					})
				},
				//登录
				loginClick() {
					window.location.href = './login.html'
				},
				// muen
				menuClick(index) {
					this.menuIndex = index
				}
			}
		})
	</script>
</html>

